<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BÃ i táº­p 02 - Form Ä‘Äƒng kÃ½</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

<nav>
    <a href="index.html">Trang chá»§</a>
    <a href="baitap01.html">BÃ i táº­p 01</a>
    <a href="baitap02.html">BÃ i táº­p 02</a>
    <a href="baitap03.html">BÃ i táº­p 03</a>
</nav>

<div class="container">
    <div class="card">
        <h2>ğŸ“ Form Ä‘Äƒng kÃ½</h2>

        <form id="registerForm">
            <input type="text" id="name" placeholder="Nháº­p há» tÃªn">
            <input type="email" id="email" placeholder="Nháº­p email">
            <input type="password" id="password" placeholder="Nháº­p máº­t kháº©u">

            <label>
                <input type="checkbox" id="agree">
                Äá»“ng Ã½ Ä‘iá»u khoáº£n
            </label>

            <br><br>
            <button type="submit">ÄÄƒng kÃ½</button>
        </form>

        <p id="result"></p>
    </div>

    <div class="card">
        <h2>ğŸ’¡ Giáº£i thÃ­ch logic tÆ° duy</h2>
        <p>
            - Báº¯t sá»± kiá»‡n submit Ä‘á»ƒ kiá»ƒm tra dá»¯ liá»‡u trÆ°á»›c khi gá»­i.<br>
            - Validate email báº±ng regex.<br>
            - Validate máº­t kháº©u: Ã­t nháº¥t 8 kÃ½ tá»±, cÃ³ chá»¯ hoa, chá»¯ thÆ°á»ng, sá»‘.<br>
            - Náº¿u há»£p lá»‡ thÃ¬ lÆ°u vÃ o LocalStorage.<br>
            - Báº£o máº­t: khÃ´ng nÃªn lÆ°u máº­t kháº©u tháº­t vÃ o LocalStorage (demo chá»‰ lÆ°u dáº¡ng text).
        </p>
    </div>
</div>

<script>
    document.getElementById("registerForm").addEventListener("submit", function(e) {
        e.preventDefault();

        const name = document.getElementById("name").value.trim();
        const email = document.getElementById("email").value.trim();
        const password = document.getElementById("password").value.trim();
        const agree = document.getElementById("agree").checked;

        const result = document.getElementById("result");

        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        const passRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}$/;

        if (name === "" || email === "" || password === "") {
            result.textContent = "âŒ Vui lÃ²ng nháº­p Ä‘áº§y Ä‘á»§ thÃ´ng tin!";
            result.style.color = "red";
            return;
        }

        if (!emailRegex.test(email)) {
            result.textContent = "âŒ Email khÃ´ng há»£p lá»‡!";
            result.style.color = "red";
            return;
        }

        if (!passRegex.test(password)) {
            result.textContent = "âŒ Máº­t kháº©u pháº£i >= 8 kÃ½ tá»± vÃ  cÃ³ chá»¯ hoa, chá»¯ thÆ°á»ng, sá»‘!";
            result.style.color = "red";
            return;
        }

        if (!agree) {
            result.textContent = "âŒ Báº¡n pháº£i Ä‘á»“ng Ã½ Ä‘iá»u khoáº£n!";
            result.style.color = "red";
            return;
        }

        const userData = { name, email };

        localStorage.setItem("userData", JSON.stringify(userData));

        result.textContent = "âœ… ÄÄƒng kÃ½ thÃ nh cÃ´ng! Dá»¯ liá»‡u Ä‘Ã£ lÆ°u vÃ o LocalStorage.";
        result.style.color = "green";
    });
</script>

</body>
</html>
